function Carousel(t,i){if(!(this instanceof Carousel))return new Carousel(t,i);var e,s,o,n,l;if(this.running=!1,this.options=i=$.extend({},Carousel.defaultCfg,i),this.animCss=i.vertical?"top":"left",this.sizeCss=i.vertical?"height":"width",this.div=e=this.elem=$(t).eq(0),this.ul=s=i.canvas?e.find(i.canvas):e.find(">ul:first"),this.initialLi=i.item?s.find(i.item):s.find(">li"),l=this.initialLi.size(),this.numVisible=n=l<i.visible?l:i.visible,i.circular&&"scroll"===i.effect){var r=this.initialLi.slice(l-n).clone(),a=this.initialLi.slice(0,n).clone();s.prepend(r).append(a),i.start+=n}this.ul.wrap('<div class="carousel-ul-wrap"></div>'),this.wrap=this.div.find(".carousel-ul-wrap"),this.li=o=i.item?s.find(i.item):s.find(">li"),this.itemLength=o.size(),this.calculatedTo=this.index=i.start,this.autoTimeout=null,this.auto=i.auto,this.init()}Carousel.prototype.visibleItems=function(t){return this.li.slice(this.calculatedTo+(0>t&&t)).slice(0,this.numVisible+(t>0&&t))},Carousel.prototype.go=function(t){var i=this.options,e=this;return this.running||(this._breakAutoScroll(),this.calculatedTo=t,i.beforeStart&&i.beforeStart.call(this,this.visibleItems()),i.circular?this._adjustOobForCircular(t):this._adjustOobForNonCircular(t),this.index=this.calculatedTo*i.scroll,this._animateToPosition({start:function(){e.running=!0,i.preload&&e._initImage()},done:function(){i.afterEnd&&i.afterEnd.call(this,e.visibleItems()),e.auto&&e._setupAutoScroll(),e.running=!1;var t=e.index;i.circular&&(t-=1,t===e.initialLi.length&&(t=0)),e.triggerEl&&e.triggerEl.eq(t).addClass(e.options.selectedClass).siblings().removeClass(e.options.selectedClass)}}),i.circular||e._disableOrEnableButtons()),!1},Carousel.prototype.prev=function(){return this.go(this.calculatedTo-this.options.scroll)},Carousel.prototype.next=function(){return this.go(this.calculatedTo+this.options.scroll)},Carousel.prototype.start=function(){this._setupAutoScroll(),this.auto=!0},Carousel.prototype.pause=function(){this._breakAutoScroll(),this.auto=!1},Carousel.prototype._initStyles=function(){var t=this.options;this.li.css({overflow:"hidden","float":t.vertical?"none":"left"}),"fade"===t.effect&&this.li.css({position:"absolute",left:0,top:0}),this.ul.css({margin:"0",padding:"0",position:"relative","list-style":"none","z-index":"1"}),this.wrap.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"}),!t.circular&&t.btnPrev&&0===t.start&&$(t.btnPrev).addClass("disabled")},Carousel.prototype._initSizes=function(){var t,i,e,s=this.options,o=this.wrap,n=this.ul,l=this.li,r=this.animCss,a=this.sizeCss,u=this.itemLength,c=this.numVisible;this.liSize=t=s.vertical?l.outerHeight(!0):l.outerWidth(!0),this.ulSize=i=this.liSize*u,this.divSize=e=this.liSize*c,l.css({width:l.width(),height:l.height()}),n.css(a,i+"px").css(r,-(this.calculatedTo*t)),o.css(a,e+"px")},Carousel.prototype._attachEventHandlers=function(){var t=this.options,i=this.elem,e=this.li,s=this;if(t.btnPrev){var o=$.isFunction(t.btnPrev)?t.btnPrev.call(i):$(t.btnPrev,i);o.on("click",function(){return s.trigger("prevClick"),s.prev()})}if(t.btnNext){var n=$.isFunction(t.btnNext)?t.btnNext.call(i):$(t.btnNext,i);n.on("click",function(){return s.trigger("nextClick"),s.next()})}t.btnNav&&$.each(s.triggerEl,function(i,e){$(e).on(t.triggerType,function(){return s.pause(),s.go(t.circular?s.numVisible+i:i)}),$(e).on("mouseout",function(){s.autoTimeout||s.start()})});var l,r=this.initialLi;e.on("click",function(){l=r.index(this),s.trigger("itemClick",l,this,r)}),t.mouseWheel&&i.mousewheel&&i.mousewheel(function(t,i){return i>0?s.prev():s.next()}),s.auto&&(s.start(),i.on("mouseover",function(){s.pause()}).on("mouseout",function(){s.start()}))},Carousel.prototype._createNav=function(){var t=this,i=t.div,e=t.initialLi,s=t.options.btnNav,o=t.numVisible,n=t.options.navClass,l=t.options.selectedClass,r=t.options.triggerSelector;if(s){var a=Math.ceil(e.size()/o),u=$("."+n+" "+r,i);if(u.size())u.first().addClass(l);else{var c=$("."+n,this);c.size()||(c=$('<ul class="'+n+'" style="display:none"></ul>').appendTo(i));for(var h=[],p=0;a>p;p++){var d="";d+=$.isFunction(s)?s.call(t,p,e.slice(p*o,p*o+o),e):'<li class="'+(0===p?l:"")+'">'+(p+1)+"</a></li>",h.push(d)}c.html(h.join("")).removeAttr("style"),u=c.find(r)}t.triggerEl=u}},Carousel.prototype._adjustOobForCircular=function(t){var i,e=this.options,s=this.ul,o=this.liSize,n=this.numVisible,l=this.initialLi.size(),r=this.itemLength,a=this.animCss;t<=e.start-n-1?(i=t+l+e.scroll,s.css(a,-(i*o)+"px"),this.calculatedTo=i-e.scroll):t>=r-n+1&&(i=t-l-e.scroll,s.css(a,-(i*o)+"px"),this.calculatedTo=i+e.scroll)},Carousel.prototype._adjustOobForNonCircular=function(t){var i=this.itemLength,e=this.numVisible;0>t?this.calculatedTo=0:t>i-e&&(this.calculatedTo=i-e)},Carousel.prototype._animateToPosition=function(t){var i=this.options,e=this.ul,s=this.liSize,o=this.animCss;this.running=!0,e.animate("left"===o?{left:-(this.calculatedTo*s)}:{top:-(this.calculatedTo*s)},$.extend({duration:i.speed,easing:i.easing},t))},Carousel.prototype._setupAutoScroll=function(){var t=this,i=t.options;t.autoTimeout=setTimeout(function(){t.go(t.calculatedTo+i.scroll)},i.auto)},Carousel.prototype._breakAutoScroll=function(){clearTimeout(this.autoTimeout)},Carousel.prototype._disableOrEnableButtons=function(){var t=this.options,i=this.itemLength,e=this.numVisible;$(t.btnPrev+","+t.btnNext).removeClass("disabled"),$(this.calculatedTo-t.scroll<0&&t.btnPrev||this.calculatedTo+t.scroll>i-e&&t.btnNext||[]).addClass("disabled")},Carousel.prototype._initLazyload=function(){var t=this.li,i=this.options.preloadAttr;this.options.preload&&(t.find("img").each(function(){var t=$(this);$.data(this,{_imgSrc:t.attr(i)||t.attr("src")}),$(this).removeAttr("src")}),this._initImage())},Carousel.prototype._initImage=function(){var t=this.options.preload,i=this.visibleItems(t).find("img");i.each(function(){var t=$(this),i=t.data("_imgSrc");t.attr("src")||t.attr("src",i)})},Carousel.prototype.init=function(){this._initStyles(),this._initSizes(),this._initLazyload(),this._createNav(),this._attachEventHandlers()},Carousel.defaultCfg={canvas:null,item:null,btnPrev:null,btnNext:null,btnNav:!1,navClass:"carousel-nav",selectedClass:"current",triggerSelector:"li",triggerType:"click",mouseWheel:!1,auto:null,speed:200,easing:null,vertical:!1,circular:!0,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null,effect:"scroll",preload:0,preloadAttr:"data-img"},$.extend($.fn,{carousel:function(t){return this.each(function(){return new Carousel(this,t)})}}),define("jCarousel/0.2.1/index",[],function(t,i,e){e.exports=Carousel}),function(){var t=/\s+/,i={};i.on=function(i,e,s){var o=this.cache||(this.cache={});if(!e)return this;var n,l;for(l=i.split(t);n=l.shift();)(o[n]||(o[n]=[])).push({type:n,handler:e,context:s});return this},i.off=function(i,e){var s=this.cache||{};if(!i)return delete this.cache,this;var o,n,l;for(n=i.split(t);o=n.shift();)if(l=s[o]||[],e&&$.isFunction(e))for(var r=0;r<l.length;r++)l[r].handler===e&&l.splice(r,1);else delete s[o];return this},i.trigger=function(i){var e,s,o,n=this.cache||{},l=0;for(e=i.split(t);s=e.shift();)for(o=n[s]||[];l<o.length;l++){var r=o[l],a=r.context||this,u=Array.prototype.slice.call(arguments,1);if(r.handler.apply(a,u)===!1)break}},i.once=function(t,i,e){var s=this,o=i;return i=function(){o(),s.off(t,i)},this.on(t,i,e),this},i.fire=i.trigger,$.extend(Carousel.prototype,i)}();